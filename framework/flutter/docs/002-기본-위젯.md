| 내용 | 최초 작성일 | 참고 |
|---|:---:|---:|
| 기본 위젯 | 2021-08-01 | 소문난 명강의 : 오준석의 플러터 생존 코딩 |

화면을 구성하는 컴포넌트를 `위젯`이라고 한다.  
화면을 구성하려면 다양한 위젯을 조합해야하므로 가능하면 많은 위젯을 아는 것이 좋다.  
(공식 웹사이트)[https://flutter.dev/docs/development/ui/widgets]에서 다양한 위젯을 알 수 있다.  
(다트패드)[https://dartpad.dev]에서 예제를 연습 할 수 있다.  
다트패드에서는 다트 언어뿐만 아니라 플러터 코드도 실행 할 수 있다.  
다프태드에 접속한 뒤 'New Pad'를 클릭하고 Flutter를 선택한다.  
선택하면 아래의 샘플 소스가 제공된다.
```dart
import 'package:flutter/material.dart';

final Color darkBlue = Color.fromARGB(255, 18, 32, 47);

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      theme: ThemeData.dark().copyWith(scaffoldBackgroundColor: darkBlue),
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        body: Center(
          child: MyWidget(),
        ),
      ),
    );
  }
}

class MyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Text('Hello, World!', style: Theme.of(context).textTheme.headline4);
  }
}

```
실습을 하기 위해 아래의 기본 코드를 바탕으로 예제를 작성해 실행해본다.
```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return MaterialApp(
            title: 'Flutter Demo',
            theme: ThemeData(
                primarySwatch: Colors.blue,
            ),
            home: MyHomePage(),
        );
    }
}
//여기까지는 공통 코드이다.

//여기부터 수정한다.
class MyHomePage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return Scaffold(
            appBar: AppBar(
                title: Text('제목'),
            ),
            body: Text('여기에 작성'),
        );
    }
}
```
# 화면 배치에 쓰는 기본 위젯
위젯 중에는 화면을 구성하고 배치하는 데 뼈대가 되는 것이 있다.  
화면 배치에 사용되는 기본 위젯을 알아본다.
## Container
아무것도 없는 위젯이다. 다양한 프로퍼티를 가지고 있기 때문에 사용하기에 따라서 다양한 응용이 가능하다.  
자주 사용되는 위젯이다.
```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return MaterialApp(
            title: 'Flutter Demo',
            theme: ThemeData(
                primarySwatch: Colors.blue,
            ),
            home: MyHomePage(),
        );
    }
}

class MyHomePage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return Scaffold(
            appBar: AppBar(
                title: Text('제목'),
            ),
            body: Container(
                color: Colors.red,
                width: 100,
                height: 100,
                padding: const EdgeInsets.all(8.0),
                margin: const EdgeInsets.all(8.0),
            ),
        );
    }
}

```
가로와 세로 길이, 색, 안쪽 여백, 바깥쪽 여백 등의 설정이 가능하고 child 프로퍼터로 또 다른 위젯을 자식으로 가질 수 있다.
## Column
수직 방향으로 위젯들을 나란히 배치하는 위젯으로 레이아웃은 대부분 Column과 Row를 조합하여 만들기 때문에 매우 자주 사용된다.  
children 프로퍼터에는 여러 위젯의 리스트를 지정할 수 있다. 지정한 위젯들은 세로로 배치된다.
```dart
Column(
    children: <Widget> [
        [위젯],
        [위젯],
        [위젯],
    ]
)
```
```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return MaterialApp(
            title: 'Flutter Demo',
            theme: ThemeData(
                primarySwatch: Colors.blue,
            ),
            home: MyHomePage(),
        );
    }
}

class MyHomePage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return Scaffold(
            appBar: AppBar(
                title: Text('수직 방향으로 빨강, 초록, 파란색'),
            ),
            body: Column(
                children: <Widget> [
                    Container(
                        color: Colors.red,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),
                    ),
                    Container(
                        color: Colors.green,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),
                    ),
                    Container(
                        color: Colors.blue,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),
                    ),                                        
                ]
            ),
        );
    }
}

```
## Row
Column과 반대로 수평 방향으로 위젯들을 나란히 배치하는 위젯이다.  
Column과 같이 children 프로퍼티에 여러 위젯을 나열한다. Row, Column과 같이 방향성이 있는 위젯은 mainAxis와 crossAxis관련 프로퍼티가 있다.
```dart
Row(
    mainAxisSize: MainAxisSize.max,
    minAxisAlignment: MainAxisAlignment.center,
    crossAxisAlignment: CrossAxisAlignment.center,
    children: <Widget>[
        [위젯],
        [위젯],
        [위젯],
    ],    
)
```
```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return MaterialApp(
            title: 'Flutter Demo',
            theme: ThemeData(
                primarySwatch: Colors.blue,
            ),
            home: MyHomePage(),
        );
    }
}

class MyHomePage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return Scaffold(
            appBar: AppBar(
                title: Text('수평 방향으로 빨강, 초록, 파란색'),
            ),
            body: Row(
                mainAxisSize: MainAxisSize.max, //가로로 꽉 채우기
                mainAxisAlignment: MainAxisAlignment.center, //가로 방향으로 가운데 정렬하기
                crossAxisAlignment: CrossAxisAlignment.center, //세로 방향으로 가운데 정렬하기
                children: <Widget> [
                    Container(
                        color: Colors.red,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),                        
                    ),
                    Container(
                        color: Colors.green,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),                        
                    ),
                    Container(
                        color: Colors.blue,
                        width: 100,
                        height: 100,
                        padding: const EdgeInsets.all(8.0),
                        margin: const EdgeInsets.all(8.0),                        
                    ),                                        
                ],
            ),
        );
    }
}
```
mainAxis는 위젯의 기본 방향을 나타낸다.  
Row는 오른쪽, Column은 아래쪽이 mainAxis가 된다.  
crossAxis는 기본 방향의 반대 방향을 나타낸다. Row는 아래쪽, Column은 오른쪽이 crossAxis가 된다.  
각 프로퍼티에 지정할 수 있는 상수는 다음과 같다.
**MainAxisSize에 정의된 상수**
| 상수 | 설명 |
|---|:---:|
| max | 최대 크기, 남은 공간을 모두 차지한다. |
| min | 최소 크기, 포함된 콘텐츠의 크기만큼만 차지한다. |

**MainAxisAlignment와 CrossAxisAlignment에 정의된 상수**
| 상수 | 설명 |
|---|:---:|
| center | 가운데 정렬. |
| start | 왼쪽 정렬. |
| end | 오른쪽 정렬. |
| spaceEvenly | 같은 크기만큼 양 옆에 공간을 둔다. |
| spaceBetween | 절반 크기만큼 양 옆에 공간을 둔다. |
| spaceAround | 양 옆에 공간을 만들지 않는다. |

## Stack
Stack위젯은 children에 나열한 여러 위젯을 순서대로 겹치게 한다.  
예를 들어 사진 위에 글자를 표현하거나 화면 위에 로딩 표시를 하는 상황에 사용할 수 있다.  
Row, Column과 같으며 순서는 children 프로퍼터에 정의한 리스트에 먼저 작성한 위젯이 가장 아래에 위치하고, 나중에 작성한 위젯이 위쪽에 위치하게 된다.
```dart
Stack(
    children: <Widget> [
        Container(
            color: Colors.blue,
            width: 100,
            height: 100,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),                        
        ),
        Container(
            color: Colors.green,
            width: 80,
            height: 80,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),                        
        ),        
        Container(
            color: Colors.blue,
            width: 60,
            height: 60,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),                        
        ),        
    ]
)
```
## SingleChildScrollView
Column을 사용하여 위젯들을 나열하다가 화면 크기를 넘어서면 스크롤이 필요하다.  
SingleChildScrollView로 감싸면 스크롤이 가능하게 할 수 있다.  
SingleChildScrollView은 말 그대로 하나의 자식을 포함하는 스크롤 가능한 위젯으로,  
SingleChildScrollView은 하나의 자식 위젯을 가져야한다.  
Column은 기본적으로 표시할 위젯의 크기만큼 가로 길이를 가지고, ListBody를 사용하면 스크롤 가능 영역이 가로로 꽉 차기 때문에  
사용자가 스크롤하기 더 쉽다.
```dart
final items = List.generate(100, (i) => i).toList();

SingleChildScrollView(
    child: ListBody(
        children: items.map((i) => Text('$i')).toList(),
    ),
)
```
## ListView, List Title
ListView는 리스트를 표시하는 위젯이다. SingleChildScrollView와 ListBody과 동일한 효과를 내지만 좀 더 리스트 표현에 최적화된 위젯이다.  
ListView에 표시할 각 항목의 레이아웃은 직접 정의해도 되지만 리스트 아이템을 쉽게 작성할 수 있는 ListTitle 위젯을 사용하면 편하다.  
ListView의 children 프로퍼터에 다수의 위젯을 배치하면 정적인 리스트를 쉽게 만들 수 있다.
```dart
ListView(
    scrollDirection: Axis.vertical,
    children: <Widget>[
        ListTile(
            leading: Icon(Icon.home),
            title: Text('Home'),
            traling: Icon(Icon.navigate_next),
            onTap: () {},
        ),
        ListTile(
            leading: Icon(Icon.home),
            title: Text('Event'),
            traling: Icon(Icon.navigate_next),
            onTap: () {},
        ),
        ListTile(
            leading: Icon(Icon.home),
            title: Text('Camera'),
            traling: Icon(Icon.navigate_next),
            onTap: () {},
        ),                
    ],
),
```
ListTile위젯은 leading, title, trailing 프로퍼티가 각각 왼쪽, 중앙, 오른쪽 위치를 담당해 자유롭게 아이콘이나 글자를 배치할 수 있다.  
ListTile의 onTap프로퍼티에는 리스트의 항목을 탭했을 때 실행해야 하는 동작을 정의한 함수를 작성한다.  
**NOTE_이벤트**
```
onPressed, onChanged, onTop처럼 on으로 시작하는 프로퍼티에 작성한 함수는 사용자 동작에 의해 호출된다.
어떤 동작에 의해 수행되기 때문에 클릭, 변경, 탭 이벤트 등으로 부르기도 한다.
```
## GridView
열 수를 지정하여 그리드 형태로 표시하는 위젯  
GridView.count() 생성자는 간단하게 그리드를 작성해준다.  
crossAxisCount 프로퍼티에 열 수를 지정할 수 있다.
```dart
GridView.count(
    crossAxisCount: [열 수],
    children: <Widget> [
        [위젯],
        [위젯],
        [위젯],
    ],
)
```
2열 그리드에 빨강, 녹색, 파랑을 나열해본다.
```dart
GridView.count(
    crossAxisCount: 2,
    children: <Widget>[
        Container(
            color:Colors.red,
            width: 100,
            height: 100,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),            
        ),
        Container(
            color:Colors.green,
            width: 100,
            height: 100,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),            
        ),
        Container(
            color:Colors.blue,
            width: 100,
            height: 100,
            padding: const EdgeInsets.all(8.0),
            margin: const EdgeInsets.all(8.0),            
        )        
    ]
)
```
## PageView
여러 페이지를 좌우로 슬라이드하여 넘길 수 있도록 해주는 위젯  
children 프로퍼티에 각 화면을 표현할 위젯을 여러 개 준비하여 지정하면 화면을 좌우로 슬라이드할 수 있다.  
하지만 `Tab과 연동하여 사용하지 않으면 좌우로 슬라이드가 가능한지 사용자가 모를 수 있기 때문에 단독으로는 사용하지 않는다`.
```dart
PageView(
    children: <Widget>[
        [위젯],
        [위젯],
        [위젯],
    ]
)
```
빨강, 초록, 파랑 페이지를 좌우로 슬라이드되도록 해본다.  배치되는 위젯 하나는 하나의 페이지를 담당한다.
```dart
PageView(
    children: <Widget>[
        Container(
            color:Colors.red
        ),
        Container(
            color:Colors.green
        ),
        Container(
            color:Colors.blue
        ),                
    ]
)
```
## AppBar, TabBar, Tab, TabBarView
이 위젯들을 조합하여 PageView와 유사하지만 페이지와 탭이 연동되는 화면을 구성할 수 있다.
```dart
class MyHomePage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
        return DefaultTabController( //Scaffold를 감싸고
            length: 3, //탭수 지정
            child: Scaffold(
                appBar: AppBar(
                    title: Text('Tab'),
                    bottom: TabBar( //Scaffold의 bottom 프로퍼티에 TabBar지정
                        tabs: <Widget>[ //tabs프로퍼티에 tab의 리스트 지정
                            Tab(icon: Icon(Icons.tab_faces)),
                            Tab(text: '메뉴2'),
                            Tab(icon: Icon(Icons.info), text: '메뉴3'),
                        ],
                    ),
                ),
                body: TabBarView( //Scaffold의 body 프로퍼티에는 TabBarView 패치
                    children: <Widget> [ //children 프로퍼티에 표시할 화면 배치
                        children: <Widget> [
                            Container(color: Colors.yellow,),
                            Container(color: Colors.orange,),
                            Container(color: Colors.red,),
                        ]
                    ]
                )
            )
        )
    }
}
```
## BottomNavigationBar
하단에 2~5개 탭 메뉴를 구성할 수 있는 위젯으로 각 탭을 클릭하여 화면을 전환할 때 사용  
Scaffold의 프로퍼티 중에서 bottomNavigationBar프로퍼티를 정의하고 items프로퍼티에 BottomNavigationBarItem위젯들을 나열한다.  
icon과 label, 프로퍼티를 정의하여 간단히 탭 바를 구성할 수 있다.
```dart
Scaffold(
    bottomNavigationBar: BottomNavigationBar(items:[
        BottomNavigationBarItem(
            icon: Icon(Icons.home),
            label: 'Home',
        ),
        BottomNavigationBarItem(
            icon: Icon(Icons.person),
            label: 'Profile',
        ),
        BottomNavigationBarItem(
            icon: Icon(Icons.notifications),
            label: 'Notification',
        ),                
    ])
)
```
# 위치, 정렬, 크기를 위한 위젯
화면을 구성할 때는 배치한 위젯의 위치를 정해야한다.  
위젯 중에는 위젯 크기나 위치, 정렬, 등을 보조하는 위젯이 있다.
## Center
중앙으로 정렬 시키는 위젯으로 상당히 자주 사용한다.  
child 프로퍼티에 중앙에 배치할 위젯을 생성한다.
```dart
Center(
    child: [위젯],
)
```
빨간 사각형을 중앙에 표시해본다.
```dart
Center(
    child: Container(
        color: Colors.red,
        width: 100,
        height: 100,
    )
)
```
## Padding
안쪽 여백을 표현할 때 사용하는 위젯이다.  
안쪽 여백은 padding 프로퍼티에 값을 지정한다.  
이 값은 EdgeInsets클래스를 사용하여 설정하며 다음과 같이 여러 방법을 제공한다. 앞에 const를 붙이면 컴파일 타임에 상수로 정의되어 다시 사용되는 부분이 있을 경우 메모리에 잇는 값을 재사용하는 이득이 있다.
```dart
Padding(
    padding: const EdgeInsets.all(40.0),
    child: [위젯],
)
```
EdgeInsets는 여러 함수를 제공한다. all()함수는 네 방향 모두 같은 값을 지정한다.
```dart
EdgeInsets.all([double])
```
only()함수는 상하좌우 중에서 원하는 방향에만 값을 지정한다.  
지정하지 않은 방향에는 기본값 0.0이 지정
```dart
EdgeInsets.only({left: [왼쪽], top: [위], right: [오른쪽], bottom: [아래]})
```
fromLTRB() 함수는 네 방향의 값을 각각 지정한다.
```dart
EdgeInsets.fromLTRB([왼쪽],[위],[오른쪽],[아래])
```
빨간 사각형의 사방에 40만큼 패딩을 적용해본다
```dart
Padding(
    padding:const EdgeInsets.all(40.0),
    child: Container(
        color: Colors.red,
    ),
)
```
